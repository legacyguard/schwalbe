import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useWizard } from '../../state/WizardContext';
export function ComplianceBanner({ compliance }) {
    const { goTo } = useWizard();
    const hasIssues = compliance.overall.errorCount > 0 || compliance.overall.warningCount > 0;
    return (_jsxs("section", { "aria-live": "polite", "aria-label": "Compliance status", className: "mt-3", children: [!hasIssues && (_jsx("div", { className: "bg-green-900/30 border border-green-700 rounded p-3", children: _jsx("p", { className: "font-medium", children: "Compliance: No issues detected" }) })), hasIssues && (_jsxs("div", { className: (compliance.overall.errorCount > 0 ? 'bg-red-900/30 border-red-700' : 'bg-yellow-900/30 border-yellow-700') + ' border rounded p-3', children: [_jsx("div", { className: "flex items-center justify-between", children: _jsxs("p", { className: "font-semibold", children: ["Compliance: ", compliance.overall.errorCount, " error", compliance.overall.errorCount === 1 ? '' : 's', compliance.overall.warningCount > 0 && `, ${compliance.overall.warningCount} warning${compliance.overall.warningCount === 1 ? '' : 's'}`] }) }), _jsx("ul", { className: "mt-2 space-y-2", children: compliance.items.map((it) => (_jsxs("li", { className: "flex items-start gap-2", children: [_jsx("span", { className: 'mt-1 inline-block h-2 w-2 rounded-full ' + (it.severity === 'error' ? 'bg-red-400' : 'bg-yellow-400') }), _jsxs("div", { className: "flex-1", children: [_jsxs("p", { className: "text-sm", children: [_jsxs("span", { className: "font-medium", children: ["[", it.step, "]"] }), " ", it.message] }), _jsxs("p", { className: "text-xs text-slate-300", children: ["Remediation: ", it.guidance] })] }), _jsx("button", { className: "text-xs bg-slate-700 hover:bg-slate-600 border border-slate-500 rounded px-2 py-1", onClick: () => goTo(it.step), "aria-label": `Go to ${it.step} step to fix`, children: "Fix now" })] }, it.code + it.step))) })] }))] }));
}
